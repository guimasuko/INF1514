\documentclass[12pt, a4paper]{article}

% Packages and Formatting
\usepackage{../../sub/mystyle_general}
\usepackage{../../sub/mystyle_article}


\title{Lista 2 - Introdução a Análise de Dados \\
Funções \\
Gabarito}
\author{Guilherme Masuko}
\date{March 2023}
%\affil{}


\definecolor{dkgreen}{rgb}{0,0.6,0}
\definecolor{gray}{rgb}{0.5,0.5,0.5}
\definecolor{mauve}{rgb}{0.58,0,0.82}

\lstset{frame=tb,
	language=R,
	aboveskip=3mm,
	belowskip=3mm,
	showstringspaces=false,
	columns=flexible,
	basicstyle={\small\ttfamily},
	numbers=none,
	numberstyle=\tiny\color{gray},
	keywordstyle=\color{blue},
	commentstyle=\color{dkgreen},
	stringstyle=\color{mauve},
	breaklines=true,
	breakatwhitespace=true,
	tabsize=3
}

\lstset{inputencoding=utf8/latin1}


\begin{document}
	
% Title Page
\clearpage
\maketitle
\thispagestyle{empty}

\textbf{Questão 1}

Nesse exercício trabalharemos derivada. Você deve criar uma função que recebe os coeficientes de um polinômio como parâmetros. Isso é, se o polinômio for de grau $n$, então sua função receberá $n+1$ parâmetros. Faça 10 funções para cada $n = 0, 1, 2,..., 9$. 

Definição de derivada: a derivada em um ponto de uma função $y = f(x)$ representa a taxa de variação instantânea de $y$ em relação a $x$ neste ponto.\footnote{\url{https://pt.wikipedia.org/wiki/Derivada}}

\begin{align*}
	\frac{\partial f}{\partial x}(a) &= \lim_{x \rightarrow a} \frac{f(x)-f(a)}{x-a}
\end{align*}

Notação:

\begin{align*}
	f^{\prime}(a)=\frac{\partial f}{\partial x}(a)=\left.\frac{\partial f}{\partial x}\right|_{x=a}
\end{align*}

Note que acima definimos a derivada em ponto específico $x=a$, mas a função deve retornar a derivada da função para quaisquer $x$ (o resultado será uma função de $x$).

Para esse exercício, usaremos a regra da cadeia para formar nossa função. 

Regra da cadeia para polinômios:

\begin{align*}
	f(x) &= a_0 x^n + a_{1} x^{n-1} + ... + a_{n-2} x^2 + a_{n-1} x + a_n \\
	\frac{\partial f}{\partial x}(x) &= a_0\cdot n x^{n-1} + a_1\cdot (n-1) x^{n-2} + ... + a_{n-2}\cdot 2 x + a_{n-1}
\end{align*}


Para tentarmos padronizar, a função deve receber os coeficientes $a_0, a_1, ..., a_n$ como parâmetros, e retornar um texto "df(x)/dx = ...".

Teste, de acordo com cada função, as funções:

\begin{itemize}
	\item $f(x) = 1$
	\item $f(x) = x + 2$
	\item $f(x) = x^2 + 2x + 3$
	\item $f(x) = x^3 + 2x^2 + 3x + 4$
	\item $f(x) = x^4 + 2x^3 + 3x^2 + 4x + 5$
	\item $f(x) = x^5 + 2x^4 + 3x^3 + 4x^2 + 5x + 6$
	\item $f(x) = x^6 + 2x^5 + 3x^4 + 4x^3 + 5x^2 + 6x + 7$
	\item $f(x) = x^7 + 2x^6 + 3x^5 + 4x^4 + 5x^3 + 6x^2 + 7x + 8$
	\item $f(x) = x^8 + 2x^7 + 3x^6 + 4x^5 + 5x^4 + 6x^3 + 7x^2 + 8x + 9$
	\item $f(x) = x^9 + 2x^8 + 3x^7 + 4x^6 + 5x^5 + 6x^4 + 7x^3 + 8x^2 + 9x + 10$
	\item $f(x) = x^{10} + 2x^9 + 3x^8 + 4x^7 + 5x^6 + 6x^5 + 7x^4 + 8x^3 + 9x^2 + 10x + 11$
\end{itemize}

\textbf{Solução}


\begin{itemize}
	\item $f(x) = 1$
	\begin{align*}
		\frac{\partial f}{\partial x}(x) &= 0
	\end{align*}
	\item $f(x) = x + 2$
	\begin{align*}
		\frac{\partial f}{\partial x}(x) &= 1
	\end{align*}
	\item $f(x) = x^2 + 2x + 3$
	\begin{align*}
		\frac{\partial f}{\partial x}(x) &= 2x + 2
	\end{align*}
	\item $f(x) = x^3 + 2x^2 + 3x + 4$
	\begin{align*}
		\frac{\partial f}{\partial x}(x) &= 3x^2 + 4x + 3
	\end{align*}
	\item $f(x) = x^4 + 2x^3 + 3x^2 + 4x + 5$
	\begin{align*}
		\frac{\partial f}{\partial x}(x) &= 4x^3 + 6x^2 + 6x + 4
	\end{align*}
	\item $f(x) = x^5 + 2x^4 + 3x^3 + 4x^2 + 5x + 6$
	\begin{align*}
		\frac{\partial f}{\partial x}(x) &= 5x^4 + 8x^3 + 9x^2 + 8x + 5
	\end{align*}
	\item $f(x) = x^6 + 2x^5 + 3x^4 + 4x^3 + 5x^2 + 6x + 7$
	\begin{align*}
		\frac{\partial f}{\partial x}(x) &= 6x^5 + 10x^4 + 12x^3 + 12x^2 + 10x + 6
	\end{align*}
	\item $f(x) = x^7 + 2x^6 + 3x^5 + 4x^4 + 5x^3 + 6x^2 + 7x + 8$
	\begin{align*}
		\frac{\partial f}{\partial x}(x) &= 7x^6 + 12x^5 + 15x^4 + 16x^3 + 15x^2 + 12x + 7
	\end{align*}
	\item $f(x) = x^8 + 2x^7 + 3x^6 + 4x^5 + 5x^4 + 6x^3 + 7x^2 + 8x + 9$
	\begin{align*}
		\frac{\partial f}{\partial x}(x) &= 8x^7 + 14x^6 + 18x^5 + 20x^4 + 20x^3 + 18x^2 + 14x + 8
	\end{align*}
	\item $f(x) = x^9 + 2x^8 + 3x^7 + 4x^6 + 5x^5 + 6x^4 + 7x^3 + 8x^2 + 9x + 10$
	\begin{align*}
		\frac{\partial f}{\partial x}(x) &= 9x^8 + 16x^7 + 21x^6 + 24x^5 + 25x^4 + 24x^3 + 21x^2 + 16x + 9
	\end{align*}
	\item $f(x) = x^{10} + 2x^9 + 3x^8 + 4x^7 + 5x^6 + 6x^5 + 7x^4 + 8x^3 + 9x^2 + 10x + 11$
	\begin{align*}
		\frac{\partial f}{\partial x}(x) &= 10x^9 + 18x^8 + 24x^7 + 28x^6 + 30x^5 + 30x^4 + 28x^3 + 24x^2 + 18x + 10
	\end{align*}
\end{itemize}

\lstinputlisting[language=R]{codes/solution1.R}


\textbf{Questão 2}

Com base na questão anterior, agora vamos criar uma única função que derive um polinômio qualquer de grau até 10. Agora, essa função receberá um vetor contendo todos coeficientes (na mesma ordem que estávamos trabalhando). O retorno da função será o mesmo.

Teste as funções:

\begin{itemize}
	\item $f(x) = 11$
	\item $f(x) = 11x + 10$
	\item $f(x) = 11x^2 + 10x + 9$
	\item $f(x) = 11x^3 + 10x^2 + 9x + 8$
	\item $f(x) = 11x^4 + 10x^3 + 9x^2 + 8x + 7$
	\item $f(x) = 11x^5 + 10x^4 + 9x^3 + 8x^2 + 7x + 6$
	\item $f(x) = 11x^6 + 10x^5 + 9x^4 + 8x^3 + 7x^2 + 6x + 5$
	\item $f(x) = 11x^7 + 10x^6 + 9x^5 + 8x^4 + 7x^3 + 6x^2 + 5x + 4$
	\item $f(x) = 11x^8 + 10x^7 + 9x^6 + 8x^5 + 7x^4 + 6x^3 + 5x^2 + 4x + 3$
	\item $f(x) = 11x^9 + 10x^8 + 9x^7 + 8x^6 + 7x^5 + 6x^4 + 5x^3 + 4x^2 + 3x + 2$
	\item $f(x) = 11x^{10} + 10x^9 + 9x^8 + 8x^7 + 7x^6 + 6x^5 + 5x^4 + 4x^3 + 3x^2 + 2x + 1$
\end{itemize}

\textbf{Solução}

\begin{itemize}
	\item $f(x) = 11$
	\begin{align*}
		\frac{\partial f}{\partial x}(x) &= 0
	\end{align*}
	\item $f(x) = 11x + 10$
	\begin{align*}
		\frac{\partial f}{\partial x}(x) &= 11
	\end{align*}
	\item $f(x) = 11x^2 + 10x + 9$
	\begin{align*}
		\frac{\partial f}{\partial x}(x) &= 22 x + 10
	\end{align*}
	\item $f(x) = 11x^3 + 10x^2 + 9x + 8$
	\begin{align*}
		\frac{\partial f}{\partial x}(x) &= 33 x^2 + 20 x + 9
	\end{align*}
	\item $f(x) = 11x^4 + 10x^3 + 9x^2 + 8x + 7$
	\begin{align*}
		\frac{\partial f}{\partial x}(x) &= 44 x^3 + 30 x^2 + 18 x + 8
	\end{align*}
	\item $f(x) = 11x^5 + 10x^4 + 9x^3 + 8x^2 + 7x + 6$
	\begin{align*}
		\frac{\partial f}{\partial x}(x) &= 55 x^4 + 40 x^3 + 27 x^2 + 16 x + 7
	\end{align*}
	\item $f(x) = 11x^6 + 10x^5 + 9x^4 + 8x^3 + 7x^2 + 6x + 5$
	\begin{align*}
		\frac{\partial f}{\partial x}(x) &= 66 x^5 + 50 x^4 + 36 x^3 + 24 x^2 + 14 x + 6
	\end{align*}
	\item $f(x) = 11x^7 + 10x^6 + 9x^5 + 8x^4 + 7x^3 + 6x^2 + 5x + 4$
	\begin{align*}
		\frac{\partial f}{\partial x}(x) &= 77 x^6 + 60 x^5 + 45 x^4 + 32 x^3 + 21 x^2 + 12 x + 5
	\end{align*}
	\item $f(x) = 11x^8 + 10x^7 + 9x^6 + 8x^5 + 7x^4 + 6x^3 + 5x^2 + 4x + 3$
	\begin{align*}
		\frac{\partial f}{\partial x}(x) &= 88 x^7 + 70 x^6 + 54 x^5 + 40 x^4 + 28 x^3 + 18 x^2 + 10 x + 4
	\end{align*}
	\item $f(x) = 11x^9 + 10x^8 + 9x^7 + 8x^6 + 7x^5 + 6x^4 + 5x^3 + 4x^2 + 3x + 2$
	\begin{align*}
		\frac{\partial f}{\partial x}(x) &= 99 x^8 + 80 x^7 + 63 x^6 + 48 x^5 + 35 x^4 + 24 x^3 + 15 x^2 + 8 x + 3
	\end{align*}
	\item $f(x) = 11x^{10} + 10x^9 + 9x^8 + 8x^7 + 7x^6 + 6x^5 + 5x^4 + 4x^3 + 3x^2 + 2x + 1$
	\begin{align*}
		\frac{\partial f}{\partial x}(x) &= 110 x^9 + 90 x^8 + 72 x^7 + 56 x^6 + 42 x^5 + 30 x^4 + 20 x^3 + 12 x^2 + 6 x + 2
	\end{align*}
\end{itemize}



\lstinputlisting[language=R]{codes/solution2.R}


\end{document}